{"ast":null,"code":"var _jsxFileName = \"/home/prajjwal/Documents/GitHub/To-DO-DA/src/Components/TodoComp.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Button, Container } from \"@material-ui/core\";\nimport { db } from \"./firebase_config\";\nimport TodoListItem from \"./TodoList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TodoComp(user) {\n  _s();\n\n  //  checking user auth\n  const [isSignedIn, setIsSignedIn] = useState(false); // Local signed-in state.\n\n  const userdata = firebase.auth().currentUser; // Listen to the Firebase Auth state and set the local state.\n\n  useEffect(() => {\n    const unregisterAuthObserver = firebase.auth().onAuthStateChanged(user => {\n      setIsSignedIn(!!user);\n    });\n    return () => unregisterAuthObserver(); // Make sure we un-register Firebase observers when the component unmounts.\n  }, []);\n  const [todo, settodo] = useState(\"\");\n  const [todoList, settodoList] = useState([]);\n  useEffect(() => {\n    gettodos();\n  }, []);\n\n  const inputChangeHandler = event => {\n    settodo(event.target.value);\n  };\n\n  const gettodos = () => {\n    db.collection(\"todos\").onSnapshot(function (querySnapshot) {\n      settodoList([...todoList, querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        todo: doc.data().todo,\n        isprogress: doc.data().isprogress\n      }))]);\n    });\n  };\n\n  const addToDo = event => {\n    event.preventDefault();\n    db.collection(\"mytodos\").doc(userdata.uid).set({\n      isprogress: true,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      todo: todo\n    });\n    db.collection(\"todos\").add({\n      isprogress: true,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      todo: todo\n    });\n    settodo(\"\");\n  };\n\n  if (isSignedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"To-Do-Da - Write your todo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"filled-basic\",\n        label: \"Create Your Todo\",\n        value: todo,\n        variant: \"filled\",\n        style: {\n          width: \"50%\",\n          backgroundColor: \"#ffffff\"\n        },\n        onChange: inputChangeHandler // onKeyDown={addToDo}\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: todo === \"\",\n        type: \"submit\",\n        onClick: addToDo,\n        variant: \"contained\",\n        color: \"primary\",\n        style: {\n          padding: \"0.9rem 2rem\",\n          fontSize: \"0.9rem\",\n          marginLeft: \"1rem\"\n        },\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: todoList.map(e => /*#__PURE__*/_jsxDEV(TodoListItem, {\n          todo: e.todo,\n          isprogress: e.isprogress,\n          id: e.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"You're not Signed in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 12\n    }, this);\n  }\n}\n\n_s(TodoComp, \"iVbgiIil5s9oQWiOswFs294fhMs=\");\n\n_c = TodoComp;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoComp\");","map":{"version":3,"sources":["/home/prajjwal/Documents/GitHub/To-DO-DA/src/Components/TodoComp.js"],"names":["React","useState","useEffect","firebase","TextField","Button","Container","db","TodoListItem","TodoComp","user","isSignedIn","setIsSignedIn","userdata","auth","currentUser","unregisterAuthObserver","onAuthStateChanged","todo","settodo","todoList","settodoList","gettodos","inputChangeHandler","event","target","value","collection","onSnapshot","querySnapshot","docs","map","doc","id","data","isprogress","addToDo","preventDefault","uid","set","timestamp","firestore","FieldValue","serverTimestamp","add","width","backgroundColor","padding","fontSize","marginLeft","e"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nimport firebase from \"firebase\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Button, Container } from \"@material-ui/core\";\nimport { db } from \"./firebase_config\";\nimport TodoListItem from \"./TodoList\";\n\nexport default function TodoComp(user) {\n  //  checking user auth\n  const [isSignedIn, setIsSignedIn] = useState(false); // Local signed-in state.\n  const userdata = firebase.auth().currentUser;\n\n  // Listen to the Firebase Auth state and set the local state.\n  useEffect(() => {\n    const unregisterAuthObserver = firebase\n      .auth()\n      .onAuthStateChanged((user) => {\n        setIsSignedIn(!!user);\n      });\n    return () => unregisterAuthObserver(); // Make sure we un-register Firebase observers when the component unmounts.\n  }, []);\n\n  const [todo, settodo] = useState(\"\");\n\n  const [todoList, settodoList] = useState([]);\n\n  useEffect(() => {\n    gettodos();\n  }, []);\n\n  const inputChangeHandler = (event) => {\n    settodo(event.target.value);\n  };\n\n  const gettodos = () => {\n    db.collection(\"todos\").onSnapshot(function (querySnapshot) {\n      settodoList([\n        ...todoList,\n        querySnapshot.docs.map((doc) => ({\n          id: doc.id,\n          todo: doc.data().todo,\n          isprogress: doc.data().isprogress,\n        })),\n      ]);\n    });\n  };\n  const addToDo = (event) => {\n    event.preventDefault();\n    db.collection(\"mytodos\").doc(userdata.uid).set({\n      isprogress: true,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      todo: todo,\n    });\n    db.collection(\"todos\").add({\n      isprogress: true,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      todo: todo,\n    });\n\n    settodo(\"\");\n  };\n  if (isSignedIn) {\n    return (\n      <div className=\"App\">\n        <h1>To-Do-Da - Write your todo</h1>\n        <TextField\n          id=\"filled-basic\"\n          label=\"Create Your Todo\"\n          value={todo}\n          variant=\"filled\"\n          style={{ width: \"50%\", backgroundColor: \"#ffffff\" }}\n          onChange={inputChangeHandler}\n          // onKeyDown={addToDo}\n        />\n        <Button\n          disabled={todo === \"\"}\n          type=\"submit\"\n          onClick={addToDo}\n          variant=\"contained\"\n          color=\"primary\"\n          style={{\n            padding: \"0.9rem 2rem\",\n            fontSize: \"0.9rem\",\n            marginLeft: \"1rem\",\n          }}\n        >\n          Add\n        </Button>\n\n        <Container>\n          {todoList.map((e) => (\n            <TodoListItem todo={e.todo} isprogress={e.isprogress} id={e.id} />\n          ))}\n        </Container>\n      </div>\n    );\n  } else {\n    return <h1>You're not Signed in</h1>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}