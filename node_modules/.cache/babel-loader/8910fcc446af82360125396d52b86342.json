{"ast":null,"code":"var _jsxFileName = \"/home/prajjwal/Documents/GitHub/To-DO-DA/src/Components/TodoComp.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Button, Container } from \"@material-ui/core\";\nimport { db } from \"./firebase_config\";\nimport TodoListItem from \"./TodoList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TodoComp(user) {\n  _s();\n\n  const testDelete = () => {\n    db.collection(\"todos\").doc(\"4ZG79tPw46Z21Sr3BJ0QI6Kqkjb2\").collection(\"todo\").doc(\"W9FzjzZrBtCRW4SHO77M\");\n  }; //  checking user auth\n\n\n  const [isSignedIn, setIsSignedIn] = useState(false); // Local signed-in state.\n\n  const userdata = firebase.auth().currentUser; // Listen to the Firebase Auth state and set the local state.\n\n  useEffect(() => {\n    const unregisterAuthObserver = firebase.auth().onAuthStateChanged(user => {\n      setIsSignedIn(!!user);\n    });\n    return () => unregisterAuthObserver(); // Make sure we un-register Firebase observers when the component unmounts.\n  }, []);\n  const [todo, settodo] = useState(\"\");\n  const [todoList, settodoList] = useState([]);\n  useEffect(() => {\n    gettodos();\n  }, []);\n\n  const inputChangeHandler = event => {\n    settodo(event.target.value);\n  };\n\n  const gettodos = () => {\n    db.collection(\"mytodos\").doc(userdata.uid).collection(\"todo\").onSnapshot(function (querySnapshot) {\n      settodoList(querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        todo: doc.data().todo,\n        isprogress: doc.data().isprogress\n      })));\n    });\n  };\n\n  const addToDo = event => {\n    event.preventDefault();\n    db.collection(\"mytodos\").doc(userdata.uid).collection(\"todo\").add({\n      isprogress: true,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      todo: todo\n    });\n    settodo(\"\");\n  };\n\n  if (isSignedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: testDelete,\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"To-Do-Da - Write your todo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"filled-basic\",\n        label: \"Create Your Todo\",\n        value: todo,\n        variant: \"filled\",\n        style: {\n          width: \"50%\",\n          backgroundColor: \"#ffffff\"\n        },\n        onChange: inputChangeHandler // onKeyDown={addToDo}\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: todo === \"\",\n        type: \"submit\",\n        onClick: addToDo,\n        variant: \"contained\",\n        color: \"primary\",\n        style: {\n          padding: \"0.9rem 2rem\",\n          fontSize: \"0.9rem\",\n          marginLeft: \"1rem\"\n        },\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: todoList.map(e => /*#__PURE__*/_jsxDEV(TodoListItem, {\n          todo: e.todo,\n          isprogress: e.isprogress,\n          id: e.id,\n          userdata: userdata\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"You're not Signed in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 12\n    }, this);\n  }\n}\n\n_s(TodoComp, \"iVbgiIil5s9oQWiOswFs294fhMs=\");\n\n_c = TodoComp;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoComp\");","map":{"version":3,"sources":["/home/prajjwal/Documents/GitHub/To-DO-DA/src/Components/TodoComp.js"],"names":["React","useState","useEffect","firebase","TextField","Button","Container","db","TodoListItem","TodoComp","user","testDelete","collection","doc","isSignedIn","setIsSignedIn","userdata","auth","currentUser","unregisterAuthObserver","onAuthStateChanged","todo","settodo","todoList","settodoList","gettodos","inputChangeHandler","event","target","value","uid","onSnapshot","querySnapshot","docs","map","id","data","isprogress","addToDo","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp","width","backgroundColor","padding","fontSize","marginLeft","e"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nimport firebase from \"firebase\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Button, Container } from \"@material-ui/core\";\nimport { db } from \"./firebase_config\";\nimport TodoListItem from \"./TodoList\";\n\nexport default function TodoComp(user) {\n  const testDelete = () => {\n    db.collection(\"todos\")\n      .doc(\"4ZG79tPw46Z21Sr3BJ0QI6Kqkjb2\")\n      .collection(\"todo\")\n      .doc(\"W9FzjzZrBtCRW4SHO77M\");\n  };\n  //  checking user auth\n  const [isSignedIn, setIsSignedIn] = useState(false); // Local signed-in state.\n  const userdata = firebase.auth().currentUser;\n\n  // Listen to the Firebase Auth state and set the local state.\n  useEffect(() => {\n    const unregisterAuthObserver = firebase\n      .auth()\n      .onAuthStateChanged((user) => {\n        setIsSignedIn(!!user);\n      });\n    return () => unregisterAuthObserver(); // Make sure we un-register Firebase observers when the component unmounts.\n  }, []);\n\n  const [todo, settodo] = useState(\"\");\n\n  const [todoList, settodoList] = useState([]);\n\n  useEffect(() => {\n    gettodos();\n  }, []);\n\n  const inputChangeHandler = (event) => {\n    settodo(event.target.value);\n  };\n\n  const gettodos = () => {\n    db.collection(\"mytodos\")\n      .doc(userdata.uid)\n      .collection(\"todo\")\n      .onSnapshot(function (querySnapshot) {\n        settodoList(\n          querySnapshot.docs.map((doc) => ({\n            id: doc.id,\n            todo: doc.data().todo,\n            isprogress: doc.data().isprogress,\n          }))\n        );\n      });\n  };\n  const addToDo = (event) => {\n    event.preventDefault();\n\n    db.collection(\"mytodos\").doc(userdata.uid).collection(\"todo\").add({\n      isprogress: true,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      todo: todo,\n    });\n\n    settodo(\"\");\n  };\n\n  if (isSignedIn) {\n    return (\n      <div className=\"App\">\n        <button className=\"btn\" onClick={testDelete}>\n          delete\n        </button>\n        <h1>To-Do-Da - Write your todo</h1>\n        <TextField\n          id=\"filled-basic\"\n          label=\"Create Your Todo\"\n          value={todo}\n          variant=\"filled\"\n          style={{ width: \"50%\", backgroundColor: \"#ffffff\" }}\n          onChange={inputChangeHandler}\n          // onKeyDown={addToDo}\n        />\n        <Button\n          disabled={todo === \"\"}\n          type=\"submit\"\n          onClick={addToDo}\n          variant=\"contained\"\n          color=\"primary\"\n          style={{\n            padding: \"0.9rem 2rem\",\n            fontSize: \"0.9rem\",\n            marginLeft: \"1rem\",\n          }}\n        >\n          Add\n        </Button>\n\n        <Container>\n          {todoList.map((e) => (\n            <TodoListItem\n              todo={e.todo}\n              isprogress={e.isprogress}\n              id={e.id}\n              userdata={userdata}\n            />\n          ))}\n        </Container>\n      </div>\n    );\n  } else {\n    return <h1>You're not Signed in</h1>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}